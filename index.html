<!doctype html>
<html>
<head>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> 
  <link href="css/materialize.css" rel="stylesheet">
  <link href="css/style.css" type="text/css" rel="stylesheet"/>
    <title>
    HTML CANVAS MEME GENERATOR
	</title>
</head>
<body>
    <h1 class="center">Meme Generator</h1>
    <div class="container">
        <div class="row">
            <div class="col m3">Menu
                <input type="text" class="form-text" id="top-text">
                <input type="text" class="form-text" id="bottom-text">
                <input type="button" id="btn" class="btn">
            </div>

            <div id="canvas-conteiner" class="col m7 ">
            <canvas id="canvas"></canvas>    
            </div> 
        </div>
    </div>
     
    <canvas id="canvas"></canvas>
    
    <script>
        var tText= document.getElementById("top-text");
        var bText= document.getElementById("bottom-text");
        var canvas= document.getElementById("canvas");
        var c= document.getElementById("canvas");
        var cc= document.getElementById("canvas-conteiner");
        c.width= cc.offsetWidth;
        c.height= cc.offsetWidth*.7;
        
        function redrawMeme(){
            var x= c.width/2;
            var y= c.height*(1/4);
            var w= c.height*(3/4);
            ctx.drawImage(img,0,0,c.width,c.height);
            drawText(tText.value,x,y);
            drawText(bText.value,x,w);    
        }
        
        tText.onchange= redrawMeme;
        bText.onchange= redrawMeme;
        
        var ctx= c.getContext("2d");    
        var img= new Image();

        img.onload= function(){
            var imgHeight =img.height*c.width/img.width;
            ctx.drawImage(img,0,0,c.width,c.height);
        };
       img.src= "img/ObamaRaul.jpg";
        
        function drawText(str, x, y){
            ctx.save(); 
            ctx.textAlign="center";
            ctx.font= "36px Impact";
            ctx.fillStyle= "rgba(255,255,255,0.75)";
            ctx.fillText(str,x,y);
            ctx.strokeText(str,x,y);
            ctx.restore();    
        }
            
       
        function drawPath(){
            ctx.beginPath()
            ctx.fillStyle="rgb(100,100,150)";
            ctx.moveTo(50,50);
            ctx.lineTo(75,75);
            ctx.lineTo(75,50);
            ctx.lineTo(50,50);
            ctx.fill();
        }
        
       function download(){
           var canvas= document.getElementById("canvas");
           window.open(canvas.toDataURL());
       }
       
       var btn= document.getElementById("btn");
       btn.onclick=download;
        
        
    </script>   
    
</body
</html>    